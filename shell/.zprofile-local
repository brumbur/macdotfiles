SCRIPT_DIR=${0:A:h}
set -o magicequalsubst && USER_HOME=~

#------------------
# Shell Variables
#------------------

# OpenSSH
export PATH=$(brew --prefix openssh)/bin:$PATH

# Specify VS Code as default editor for the React Native Simulator
export REACT_EDITOR=code

# Set VS Code Insiders as default code editor
export EDITOR=code

# Android SDK
export ANDROID_HOME=~/Library/Android/sdk

# NVM directory variable
export NVM_DIR="$HOME/.nvm"

# Ruby
export PATH="/usr/local/opt/ruby/bin:$PATH"
export PATH="/usr/local/lib/ruby/gems/2.5.0/bin:$PATH"

# Java
export JAVA_HOME="/usr/bin/java"

#-------------------
# SSH Agent and Keys
#-------------------
# kill the osx agent process before starting the openssh agent
kill $(pgrep -u $USER ssh-agent) &> /dev/null
eval `$(brew --prefix openssh)/bin/ssh-agent` &> /dev/null
ssh-add ~/.ssh/id_* &> /dev/null

# close the ssh-agent on shell exit >> todo: verify it works
# echo 'trap ''test -n \"$SSH_AUTH_SOCK\" && eval `$(brew --prefix openssh)/bin/ssh-agent -k`'' 0' >> ~/.zprofile