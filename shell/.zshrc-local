# contains instance specific shell customizations
SCRIPT_DIR=$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )

#------------------
# Shell Variables
#------------------
# Specify VS Code as default editor for the React Native Simulator
export REACT_EDITOR=code

# Set VS Code Insiders as default code editor
export EDITOR=code

# Android SDK
export ANDROID_HOME=~/Library/Android/sdk

# NVM directory variable
export NVM_DIR="$HOME/.nvm"

# Start ssh-agent (https://linux.die.net/man/1/ssh-agent)
eval `ssh-agent -k &> /dev/null` 

# Add keys from ~/.ssh (.ssh directory permissions should be 700, pub keys 644, private keys 600)
ssh-add  --apple-use-keychain --apple-load-keychain &> /dev/null 

#------------------
# PATH Manipulations
#------------------
# Add mySQL executable to Path
export PATH=$PATH:/usr/local/mysql/bin
# Add Laravel Valet to PATH
export PATH=${PATH}:$HOME/.composer/vendor/bin
# Add Android SDK to path
export PATH=${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools
# Add ruby to PATH
export PATH="/usr/local/opt/ruby/bin:$PATH"
export PATH="/usr/local/lib/ruby/gems/2.5.0/bin:$PATH"
export JAVA_HOME="/usr/bin/java"

#------------------
# antigen config
#------------------
source ~/antigen.zsh

# Load the oh-my-zsh's library.
antigen use oh-my-zsh

# Bundles from the default repo (robbyrussell's oh-my-zsh).
antigen bundle git
antigen bundle heroku
antigen bundle pip
antigen bundle lein
antigen bundle command-not-found

# Syntax highlighting bundle.
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-autosuggestions

# Allow the use of the z plugin to easily navigate directories
antigen bundle agkozak/zsh-z

# Load the theme.
# antigen theme robbyrussell
# antigen theme agnoster
# antigen theme spaceship-prompt/spaceship-prompt
antigen theme romkatv/powerlevel10k

# Apply all plugin settings
antigen apply


#------------------
# Zsh hooks
#------------------
# Enable the addition of zsh hook functions
autoload -U add-zsh-hook

# Set the tab title to the current working directory before each prompt
function tabTitle () {
  window_title="\033]0;${PWD##*/}\007"
  echo -ne "$window_title"
}

# Executes tabTitle before each prompt
add-zsh-hook precmd tabTitle

# Run load-nvmrc on initial shell load
# . ~/.nvmrc-config-alex.sh

# Executes load-nvmrc when the present working directory (pwd) changes
# add-zsh-hook chpwd load-nvmrc


#------------------
# Aliases
#------------------
test -f $SCRIPT_DIR/aliases.sh && source $SCRIPT_DIR/aliases.sh

